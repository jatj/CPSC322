\documentclass{article}

\usepackage{fullpage}
\usepackage{color}
\usepackage{amsmath}
\usepackage{url}
\usepackage{verbatim}
\usepackage{graphicx}
\usepackage{parskip}
\usepackage{amssymb}
\usepackage{nicefrac}
\usepackage{algorithm2e} % pseudo-code
\usepackage{booktabs}
\usepackage{siunitx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{bookmark}
\usepackage{hyperref}
\usepackage{enumitem}
\usepackage[procnames]{listings}

\def\rubric#1{\gre{Rubric: \{#1\}}}{}

% Colors
\definecolor{blu}{rgb}{0,0,1}
\def\blu#1{{\color{blu}#1}}
\definecolor{gre}{rgb}{0,.5,0}
\def\gre#1{{\color{gre}#1}}
\definecolor{red}{rgb}{1,0,0}
\def\red#1{{\color{red}#1}}
\definecolor{ans}{rgb}{0,.5,0}%{0.545,0.27,0.074}
\def\ans#1{{\color{ans}#1}}
\definecolor{keywords}{RGB}{255,0,90}
\definecolor{comments}{RGB}{0,0,113}
\definecolor{red}{RGB}{160,0,0}
\definecolor{green}{RGB}{0,150,0}
\def\norm#1{\|#1\|}

% Configuration
\usepackage[font={color=ans,bf},figurename=Fig.,labelfont={it}]{caption}
\lstset{
    language=Python, 
    basicstyle=\ttfamily\small, 
    keywordstyle=\color{keywords},
    commentstyle=\color{comments},
    stringstyle=\color{red},
    showstringspaces=false,
    identifierstyle=\color{green},
    procnamekeys={def,class}
}

% Math
\def\R{\mathbb{R}}
\def\argmax{\mathop{\rm arg\,max}}
\def\argmin{\mathop{\rm arg\,min}}
\newcommand{\mat}[1]{\begin{bmatrix}#1\end{bmatrix}}
\newcommand{\alignStar}[1]{\begin{align*}#1\end{align*}}
\def\half{\frac 1 2}
\def\cond{\; | \;}

% LaTeX
\newcommand{\fig}[2]{\includegraphics[width=#1\textwidth]{#2}}
\newcommand{\centerfig}[2]{\begin{center}\includegraphics[width=#1\textwidth]{#2}\end{center}}
\newcommand{\matCode}[1]{\lstinputlisting[language=Matlab]{a2f/#1.m}}
\def\items#1{\begin{itemize}#1\end{itemize}}
\def\enum#1{\begin{enumerate}#1\end{enumerate}}


\begin{document}

\title{CPSC 322 Assignment 1}
\author{
    José Abraham Torres Juárez - 79507828 \\
    Gustavo Martin - 62580121
}
\date{}
\maketitle
\vspace{-2em}

% ################################## QUESTION 1 ##################################

\section{Question 1 (27points): Comparing Search Algorithms}
% \centerfig{1}{../figs/1_graph}

\subsection{Depth-first search}
\begin{enumerate}[label=(\alph*)]
    \item What nodes are expanded by the algorithm?
    \ans{
        \[\{a, b, c, d, e, f, g, h, i\}\]
    }
    \item What path is returned by the algorithm?
    \ans{
        \[a->b->c->d->e->f->g->h->i->z\]
    }
    \item What is the cost of this path?
    \ans{
        64
    }
\end{enumerate}

\subsection{Breadth-first search}
\begin{enumerate}[label=(\alph*)]
    \item What nodes are expanded by the algorithm?
    \ans{
        \[\{a, b, e, c, f, g, d, f, g, h, i\}\]
    }
    \item What path is returned by the algorithm?
    \ans{
        \[a->e->g->z\]
    }
    \item What is the cost of this path?
    \ans{
        16
    }
\end{enumerate}

\subsection{A$^*$}
\begin{enumerate}[label=(\alph*)]
    \item What nodes are expanded by the algorithm?
    \ans{
        \[\{a, e, b, g, c, f, d\}\]
    }
    \item What path is returned by the algorithm?
    \ans{
        \[a->e->g->z\]
    }
    \item What is the cost of this path?
    \ans{
        16
    }
\end{enumerate}

\subsection{Branch-and-bound}
\begin{enumerate}[label=(\alph*)]
    \item What nodes are expanded by the algorithm?
    \ans{
        \[\{a, b, c, d, e, f, g, h, i, i, g, h, i, f, g, e, f, g, h, g, h, i\}\]
    }
    \item What path is returned by the algorithm?
    \ans{
        \[a->e->g->z\]
    }
    \item What is the cost of this path?
    \ans{
        16
    }
\end{enumerate}

\subsection{}

\begin{enumerate}[label=(\alph*)]
    \item Did BFS and B\&B find the optimal solution for this graph?
    \ans{
        Yes, both algorithm found the best path $a->e->g->z$
    }
    \item Are BFS and B\&B optimal in general? Explain your answer. 
    \ans{
        No, BFS is not optimal if the costs of the arcs are different. And B\&B only if 
        the heuristcs are admissible.
    }
    \item Did B\&B expandfewer nodes than A*? Explain if your answer is true in general for these two algorithms and why.
    \ans{
        No, in general B\&B will expand more nodes than A*, because even if it found a solution, it 
        will keep searching in the graph for shorter solutions.
    }
\end{enumerate}

% ################################## QUESTION 2 ##################################

\clearpage
\section{Question 2 (36points): Uninformed Search: Peg Solitaire}
% \centerfig{1}{../figs/2_solitaire}
% \centerfig{0.8}{../figs/3_solitaire}

\subsection{Represent peg solitaire as a search problem}
\begin{enumerate}[label=(\alph*)]
    \item How would you represent a node/state?
    \ans{
        As a matrix representing the the positions of all the pegs in the board. A peg would 
        be represented as a $1$, a free hole would be represented as a $0$ and a place 
        where the peg can not move would be represented by a $-1$.\\ \\ The following matrix 
        is the representation of the initial state of the game.
        \[ \left[ 
        \begin{array}{ccccccc}
        -1 & -1 & 1 & 1 & 1 & -1 & -1 \\
        -1 & -1 & 1 & 1 & 1 & -1 & -1 \\
        1 & 1 & 1 & 1 & 1 & 1 & 1 \\
        1 & 1 & 1 & 0 & 1 & 1 & 1 \\
        1 & 1 & 1 & 1 & 1 & 1 & 1 \\
        -1 & -1 & 1 & 1 & 1 & -1 & -1 \\
        -1 & -1 & 1 & 1 & 1 & -1 & -1 
        \end{array} 
        \right]\] 
    }
    \item In your representation, what is the goal node?
    \ans{
        The goal node would have the following represendation.
        \[ \left[ 
        \begin{array}{ccccccc}
        -1 & -1 & 0 & 0 & 0 & -1 & -1 \\
        -1 & -1 & 0 & 0 & 0 & -1 & -1 \\
        0 & 0 & 0 & 0 & 0 & 0 & 0 \\
        0 & 0 & 0 & 1 & 0 & 0 & 0 \\
        0 & 0 & 0 & 0 & 0 & 0 & 0 \\
        -1 & -1 & 0 & 0 & 0 & -1 & -1 \\
        -1 & -1 & 0 & 0 & 0 & -1 & -1 
        \end{array} 
        \right]\] 
    }
    \item How would you representthe arcs?
    \ans{
        We would use the following notation $ij.i'j'$, being $i$ the row, $j$ the column of 
        the peg that is moving to the column $i'$ and row $j'$, e.g., an arc with the label 
        31.33 will represent that a peg in row 3 column 1 will be moved to row 3 column 3.
    }
    \item How many possible board states are there?Note: this is notthe same as the number of “valid” or “reachable” game states, which is a much more challenging problem.
    \ans{
        There are 33 holes in the board, and the domain of this holes is binary {1,0}, 
        either there is a peg on the hole or not. So the number of possible states would 
        be $2^{33}$.
    }
\end{enumerate}

\subsection{The search tree:}
\begin{enumerate}[label=(\alph*)]
    \item Write out the first three levels (counting the root as level 1) of the search tree. (Only label the arcs; labeling the nodes would be too much work).
    \ans{
        The following diagram is the representation of how the search tree would look.
        \centerfig{0.8}{../figs/q2_2_a}
    }
    \item What can you say about the length of the solution(s)?
    \ans{
        The solution must be at level 32, because at every step from node to node, we 
        lose one peg, we start with 32 at the goal is to get to 1 peg in all the board.
    }

\end{enumerate}

\subsection{The search algorithm:}
\begin{enumerate}[label=(\alph*)]
    \item What kind of search algorithm would you use for this problem? Justify your answer
    \ans{
        An uninformed algorithm, because we neither have difference in the costs of the paths
        nor heuristcs.
    }
    \item Would you use cycle-checking? Justify your answer.
    \ans{
        No, you can't undo a movement so there is no posibility for cycles.
    }
    \item Would you use multiple-path-pruning? Justify your answer.
    \ans{
        No, because it is not possible to arrive at the same state with less movements. 
        We can prove this because at every level the number of pegs is reduced by 1, at 
        level 1 we have 32 pegs, at level 2 31 pegs, at 3 we have 30 pegs and so on and 
        so forth. So it is guaranted that they will not be a shorter path to get to any 
        state.
    }
\end{enumerate}

% ################################## QUESTION 3 ##################################

\clearpage
\section{Question 3 (24 Points) Free Cell }

\subsection{Represent this as a search problem}
\begin{enumerate}[label=(\alph*)]
    \item How would you represent a node/state?
    \ans{
        As an array of $16$ stacks, each stack represent a zone in the board, 4 free cells, 4 foundations 
        and 8 columns. The free cells stack will have a maximum size of 1.
    }
    \item In your representation, what is the goal node?
    \ans{
        The goal node will be when all free cells and columns stacks are empty, and each of the 4 foundation 
        stacks are filled with ascending order cards of the same suit per stack.
    }
    \item How would you represent the arcs?
    \item \ans{
        The arcs will be represented with the information of the movement, from which stack we move the 
        top card to which stack, i.e., column1\_freecell1 or column1\_heartsFoundation.
    }
\end{enumerate}

\subsection{}
Give  an  admissible  heuristicfor  this  problem;  explain  why  your  heuristic  is  admissible. More points will be given for tighter lower bounds; for example, h=0 is a trivial (and useless) heuristic, and thus it is not acceptable. \\
\ans{
    An admissible heuristic for this problem will be the number of cards that are not in the foundation 
    stacks, because at least the solution has to make those number of movements to arrive to the solution.
    This is pretty optimistic because it is considering that on each move you can send one card to the 
    foundation, but it still being an admissible heuristic because it will never be an overestimate.
}


% ################################## QUESTION 4 ##################################

\clearpage
\section{Question 4 (15points) Modified Heuristics}

\subsection{Reduce h(n), trying in three different ways:}
\begin{enumerate}[label=(\alph*)]
    \item Can A* still find the optimal path? 
    \ans{
        Yes, in all the tests when reducing $h(n)$ the algorithm succesfuly returned the optimal path.
    }
    \item Is the efficiency of A* increased or reduced? 
    \ans{
        When reducing the $h(n)$s of the nodes that are not in the path the efficiency is reduced, on 
        the contrary if the $h(n)$s of the nodes that are in the path the efficiency is increased. If 
        we reduced the $h(n)$s on all the nodes in the graph A* acts in the same way when the $h(n)$s 
        were not reduced.
    }
    \item Try to draw a more general conclusion regarding the changes in efficiency and optimality. 
    \ans{
        If the heuristcs in the optimal path are reduced the algorithm will be more efficient in finding 
        the optimal path.
    }
\end{enumerate}

\subsection{Set h(n) as the exact distance from n to a goal}
To do this, you should add the costs of arcs on the optimal path from every node to the goal node, and set the sum as the heuristic function of the node. 
\begin{enumerate}[label=(\alph*)]
    \item Can A* still find the optimal path? 
    \ans{
        Yes A* still finds the optimal path.
    }
    \item Is the efficiency of A* increased or reduced? 
    \ans{
        The efficiency of A* is increased.
    }
    \item Try to draw a more general conclusion regarding the changes in efficiency and optimality. 
    \ans{
        By making the $h(n)$s of each nodes as the exact distance from n to a goal, we are setting the 
        perfect heuristic for the graph. So it will find the optimal solution in the quickiest way possible.
        Each iteration it will expand the node with the lest distance to the solution.
    }
\end{enumerate}

\subsection{Increase h(n), also trying in three different ways}
\begin{enumerate}[label=(\alph*)]
    \item When can A* still find the optimal path?
    \ans{
        Yes, even if we increased the $h(n)$s of the nodes in the solution path, it was still able 
        to find the optimal path to the goal.
    }
    \item When is the efficiency of A* improved or reduced? 
    \ans{
        The efficiency of A* is remarkably reduced when the $h(n)$s of the nodes in the solution path 
        are increased. When all $h(n)$s of the graph are increased the algorithm acts as when the $h(n)$s 
        were not increased. Lastly if we increase the $h(n)$s in the nodes that are not in the solution the 
        algorithm increases its efficiency.
    }
    \item Try to draw a more general conclusion regarding the changes in efficiency and optimality.
    \ans{
        Increasing the value of the $h(n)$s acts has the opposite effect of reducing the $h(n)$s in the 
        \textbf{4.1} excercise.
    }
\end{enumerate}

\end{document}
